# config/trading_modes/aggressive.yaml
# Агрессивный режим — максимальная прибыль за счёт высокой частоты сделок и риска
# Подходит для:
# - депозита $10k+ (или выделенной "рисковой" части капитала)
# - winrate модели >62–65%
# - сильных трендовых рынков (много импульсов)
# - после успешного теста в balanced/conservative

# Основные параметры риска и фильтра
risk:
  default_risk_pct: 2.0               # Базовый риск на сделку — 2% (агрессивно)
  manual_prob_risk_levels:            # Ручные уровни — очень агрессивно
    0.60: 1.0                         # ≥60% — 1.0%
    0.70: 1.5                         # ≥70% — 1.5%
    0.80: 2.5                         # ≥80% — 2.5%
    0.88: 3.5                         # ≥88% — 3.5% (очень сильные сигналы)
  risk_multiplier_enabled: true       # Увеличиваем риск при высокой вероятности
  risk_multiplier:                    # Коэффициент увеличения
    0.80: 1.5                         # >80% → ×1.5
    0.90: 2.0                         # >90% → ×2.0

# Фильтр сигналов (очень мягкий)
prob_threshold: 0.60                  # Минимальная вероятность — всего 60% (берём почти все)
quiet_mode: true                      # Тихий режим обязательно включён (максимум сделок)
use_only_mixed_anomaly: false         # Все типы аномалий + Q (без фильтра)
min_pr_threshold: 0.20                # PR > 0.20 — очень низкий порог (берём даже слабые конфиги)

# Управление позицией
soft_entry_enabled: true              # Мягкие входы включены (но пороги низкие)
soft_levels: [0.60, 0.70, 0.85]       # Низкие пороги — быстрое наращивание
soft_sizes: [0.4, 0.4, 0.2]           # 40% → 40% → 20% (агрессивное вхождение)
soft_timeout: 3                       # Только 3 свечи на подтверждение — быстро

tp_mode: "average_candle"             # Фиксированный TP (быстрее закрытие, больше сделок)
sl_mode: "classic"                    # Classic SL — ближе, меньше убыток на сделку
trailing_enabled: true                # Trailing включён — ловим сильные движения
trailing_type: "classic"              # Classic — шаговый (более агрессивный)
trailing_activation_pct: 0.4          # Активация уже при +0.4% (очень рано)
trailing_distance_pct: 1.0            # Расстояние 1.0% — даём больше "воздуха" тренду

# PR и фильтр монет
pr:
  mode: "classic"                     # Classic — не штрафует за малое кол-во (берём удачливые серии)
  min_deals_in_pr_period: 5           # Минимум 5 сделок — очень мягкий фильтр
  min_pr_threshold: 0.20              # PR > 0.20 — активируем почти всё

# Дополнительные ограничения
max_open_positions: 5                 # До 5 позиций одновременно (агрессивно)
max_daily_loss_pct: 8.0               # Авто-стоп на день при -8% (большой допуск)
trading_hours_restriction: false      # Торгуем 24/7

# Логи и мониторинг
logging:
  level: "DEBUG"                      # DEBUG — видим всё (много логов для анализа)