# config/bot_config.yaml

# === Основной конфигурационный файл бота ===
# Содержит настройки, которые редко меняются и относятся к глобальной работе бота.
# Не переопределяется hardware или trading_modes — это "ядро" конфигурации.
# Каждый параметр подробно описан ниже: за что отвечает, на что влияет, как изменение числа влияет на поведение.

binance:
  # API ключи — обязательны для реальной торговли и скачивания данных.
  # Без них бот работает только с локальными данными или симуляцией.
  api_key: "your_api_key_here"
  api_secret: "your_api_secret_here"

  # Список прокси (http или socks5), если нужно обходить ограничения.
  # Формат: ["http://ip:port", "socks5://ip:port"]
  # Влияет: на скорость скачки и обход блокировок.
  # Изменение: добавление прокси → стабильность при большом количестве запросов.
  proxies: []

trading:
  # Режим торговли: "real" — реальные ордера на бирже, "virtual" — симуляция без риска.
  # Влияет: на исполнение ордеров (order_executor vs virtual_trader).
  # Изменение: "real" → реальный риск и реальная прибыль/убыток.
  mode: "virtual"

  # Риск на сделку в % от текущего депозита (авто-расчёт размера позиции).
  # Влияет: на размер позиции и общий drawdown.
  # Изменение: 0.5 → консервативно (меньше позиция, ниже риск), 2.0 → агрессивно (больше позиция, выше прибыль/риск).
  risk_pct: 1.0

  # Максимальное плечо (проверяется по монете, берётся минимум из этого и биржевого лимита).
  # Влияет: на маржу и потенциальную прибыль/убыток.
  # Изменение: 20 → умеренное, 50 → агрессивное (но выше риск ликвидации).
  leverage_max: 50

  # Минимальный размер ордера в USDT (фильтр: если рассчитанный size < min_order → skip).
  # Влияет: на торговлю мелкими монетами.
  # Изменение: 5 → можно торговать мелкие лоты, 10 → фильтрует мелкие монеты.
  min_order_size_usdt: 5.0

model:
  # Минимальная вероятность предикта для открытия позиции по аномалиям.
  # Влияет: на количество входов и качество сигналов.
  # Изменение: 0.55 → больше сделок, но больше ложных; 0.70 → меньше, но качественнее.
  min_prob_anomaly: 0.60

  # Минимальная вероятность для тихого режима (Q).
  # Влияет: на частоту входов без аномалий.
  # Изменение: 0.75 → консервативно (редкие входы в Q), 0.65 → агрессивно.
  min_prob_q: 0.75

  # Интервал переобучения модели (количество новых свечей).
  # Влияет: на актуальность модели.
  # Изменение: 5000 → чаще переобучение (актуальнее, но больше нагрузки), 20000 → реже (экономия ресурсов).
  retrain_interval_candles: 10000

  # Максимальное количество сценариев в памяти (удаление старых при превышении).
  # Влияет: на потребление RAM.
  # Изменение: 5000 → экономия памяти, 20000 → больше истории сценариев.
  max_scenarios_limit: 10000

backtest:
  # Минимальное количество сделок для учёта монеты в PR.
  # Влияет: на фильтр монет (малое кол-во сделок → ненадёжный PR).
  # Изменение: 5 → больше монет в whitelist, но больше шума; 20 → только проверенные монеты.
  min_trades_for_pr: 10

  # Минимальный PR для включения монеты в whitelist.
  # Влияет: на выбор монет для торговли.
  # Изменение: 0.0 → все положительные PR; 0.5 → только очень прибыльные.
  min_pr_threshold: 0.0

paths:
  # Директории хранения (относительно проекта)
  data_dir: "data"          # БД, csv, pkl
  logs_dir: "logs"          # Логи
  models_dir: "models"      # Сохранённые модели