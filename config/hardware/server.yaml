# config/hardware/server.yaml
# Настройки для мощного сервера (AMD 9900x, 96 ГБ RAM, RTX 3090 24 ГБ)
# Цель — максимальное качество модели, полная история, частое переобучение.

hardware:
  type: "server"

database:
  type: "duckdb"                          # DuckDB — оптимально для больших объёмов

model:
  epochs: 30                              # Много эпох — максимальная точность
  batch_size: 512                         # Очень большой батч — полное использование GPU
  hidden_size: 512                        # Большая модель — захват сложных паттернов
  num_gru_layers: 3                       # Три слоя GRU — глубокая память

backtest:
  max_workers: 32                         # Максимум потоков — супербыстрая скачка и симуляция

trading:
  risk_pct: 0.015                           # FIX Фаза 4: теперь 1.5% (десятичная форма)

limits:
  max_candles_per_tf: 1000000             # Полная история — максимум данных
  max_scenarios_limit: 50000              # Очень много сценариев — детальная статистика
  retrain_interval_candles: 8000          # Чаще переобучение — всегда актуальная модель

# Влияние изменений:
# epochs: 20 → быстрее; 50 → ещё точнее, но может overfit
# batch_size: 256 → экономнее VRAM; 1024 → быстрее, но требует 24 ГБ GPU
# hidden_size: 256 → легче; 1024 → значительно лучше качество, но дольше обучение
# max_candles_per_tf: 500000 → экономия; 2000000 → максимум точности, но долго скачивать

# FIX Фаза 4 (только добавлено в конец trading-секции)
  trailing_activation_pct: 0.015
  trailing_distance_pct: 0.008
  tp_multiplier: 2.0
  sl_multiplier: 1.0