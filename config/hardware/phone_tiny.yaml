# config/hardware/phone_tiny.yaml
# Настройки для мобильного устройства (Redmi Note 12 Pro, 12 ГБ RAM, 256 ГБ)
# Цель — минимизировать потребление ресурсов, избежать OOM и перегрева.
# Все параметры консервативные, чтобы бот работал стабильно в фоне.

hardware:
  type: "phone_tiny"                      # Идентификатор профиля (используется в load_config)

database:
  type: "sqlite"                          # Лёгкая БД (файл на устройстве), DuckDB слишком тяжёлый для мобильного

model:
  epochs: 5                               # Мало эпох — быстрое обучение, меньше нагрузки на CPU/GPU
  batch_size: 16                          # Маленький батч — экономия памяти, но медленнее сходимость
  hidden_size: 64                         # Уменьшенный размер слоёв — модель легче, меньше параметров
  num_gru_layers: 1                       # Один слой GRU — минимум памяти и вычислений

backtest:
  max_workers: 4                          # Мало потоков — не перегревает телефон, не жрёт батарею

trading:
  risk_pct: 0.5                           # Консервативный риск — защита депо на мобильном (меньше позиция)

limits:
  max_candles_per_tf: 50000               # Ограничение истории — экономия RAM и места
  max_scenarios_limit: 5000               # Меньше сценариев в памяти — не перегружает телефон
  retrain_interval_candles: 15000         # Реже переобучение — меньше нагрузки

# Влияние изменений:
# epochs: 3 → ещё быстрее, но хуже сходимость; 10 → точнее, но может OOM или разрядить батарею
# batch_size: 8 → экономнее, но медленнее; 32 → быстрее, но выше риск OOM
# hidden_size: 32 → очень лёгкая модель, но хуже качество; 128 → точнее, но может не влезть
# max_candles_per_tf: 30000 → ещё экономнее, но меньше истории для обучения