# config/default.yaml

# === Основной конфиг проекта ===
# Все параметры, которые не зависят от hardware или trading mode.
# Переопределяются в hardware/*.yaml и trading_modes/*.yaml при необходимости.

# Binance API (заполнить реальными ключами)
binance:
  api_key: "your_api_key_here"
  api_secret: "your_api_secret_here"

# Таймфреймы (из ТЗ)
timeframes:
  - "1m"
  - "3m"
  - "5m"
  - "10m"
  - "15m"

# Окна анализа (из ТЗ)
windows_sizes:
  - 24
  - 50
  - 74
  - 100

# Параметры аномалий
anomaly:
  lookback: 25
  volume_percentile: 0.97          # дефолт перцентиль для объёмной аномалии
  dominance_threshold_pct: 60.0    # порог доминирования ask/bid для volume anomaly
  min_volume_threshold: 1.0        # минимальный объём свечи для рассмотрения аномалии

# Параметры модели
model:
  input_dim: 28                    # кол-во признаков из feature_engine (все из ТЗ)
  seq_len: 100
  hidden_size: 128
  num_gru_layers: 2
  dropout: 0.2
  lr: 0.001
  epochs: 20                       # дефолт, переопределяется в hardware
  batch_size: 64                   # дефолт
  val_split: 0.2
  min_prob_anomaly: 0.60
  min_prob_q: 0.75

# Параметры бектеста и PR
backtest:
  min_trades_for_pr: 10
  min_pr_threshold: 0.0
  lookback_hours: 720              # 30 дней для анализа PR

# Параметры торговли (риск, режимы)
trading:
  mode: "virtual"                  # real / virtual
  risk_pct: 1.0                    # риск на сделку в % от депозита
  avg_candle_size_pct: 0.5         # примерное среднее движение свечи в % (для TP)
  tp_sl_mode: "classic"            # classic / partial_trailing / chandelier
  leverage_max: 50

# Пути
paths:
  data_dir: "data"
  logs_dir: "logs"
  models_dir: "models"

# Другие параметры
retrain_interval_candles: 10000
max_history_candles: 100000
max_scenarios_limit: 10000